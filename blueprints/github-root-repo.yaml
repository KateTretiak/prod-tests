spec_version: 2
description: github
inputs:
  branch:
    type: string
  repo:
    type: string
  host_name:
    type: execution-host

grains:
  github-branch:
    kind: terraform
    spec:
      source:
        store: root-repo
      host:
        name: '{{ .inputs.host_name }}'
      inputs:
      - branch: '{{ .inputs.branch }}'
      - repo: '{{ .inputs.repo }}'
      - token: '{{ .params.github_token }}'
    tf-version: 1.2.9
